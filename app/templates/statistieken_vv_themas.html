{% extends "base.html" %}
{% block content %}

<!-- HERO -->
<section class="hero">
  <h1 class="hero-title">Statistieken per Volksvertegenwoordiger</h1>
  <p class="hero-subtitle">
    Bekijk over welke thema’s elk parlementslid het vaakst schriftelijke vragen stelt.
  </p>
</section>

<!-- TABEL -->
<section class="table-section">
  <div class="table-container">
    <table>
      <thead>
        <tr>
          {% set kolommen = [
            ('naam', 'Naam'),
            ('populair', 'Populairst Thema'),
            ('pop_count', 'Aantal Vragen'),
            ('tweede', '2e Thema'),
            ('tweede_count', 'Aantal'),
            ('derde', '3e Thema'),
            ('derde_count', 'Aantal'),
            ('laatste_vraag', 'Laatste Vraag')
          ] %}

          {% for k, label in kolommen %}
          <th>
            {% if k == 'naam' %}
            <a href="{{ url_for('main.statistieken_vv_themas', kolom=k, sort='asc' if sort == 'desc' or kolom != k else 'desc') }}"
               class="sortable">
              {{ label }}
              <span class="sort-icons">
                {% if kolom == k %}
                  {% if sort == 'asc' %}
                    <span class="arrow active">↑</span><span class="arrow inactive">↓</span>
                  {% else %}
                    <span class="arrow inactive">↑</span><span class="arrow active">↓</span>
                  {% endif %}
                {% else %}
                  <span class="arrow inactive">↑</span><span class="arrow inactive">↓</span>
                {% endif %}
              </span>
            </a>
            {% else %}
              {{ label }}
            {% endif %}
          </th>
          {% endfor %}
        </tr>
      </thead>

      <tbody>
        {% if data %}
          {% for p in data %}
          <tr>
            <td>{{ p.naam }}</td>
            <td>{{ p.populair or "—" }}</td>
            <td class="td-center">{{ p.pop_count }}</td>
            <td>{{ p.tweede or "—" }}</td>
            <td class="td-center">{{ p.tweede_count }}</td>
            <td>{{ p.derde or "—" }}</td>
            <td class="td-center">{{ p.derde_count }}</td>
            <td>{{ p.laatste_vraag or "—" }}</td>
          </tr>
          {% endfor %}
        {% else %}
          <tr>
            <td colspan="8" class="geen-data">Geen gegevens beschikbaar.</td>
          </tr>
        {% endif %}
      </tbody>
    </table>
  </div>
</section>

{% endblock %}
