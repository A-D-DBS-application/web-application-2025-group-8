{% extends "base.html" %}

{% block content %}
<!-- HERO (blauwe header) -->
<section class="hero">
  <h1 class="hero-title">Prioriteit van Schriftelijke Vragen</h1>
  <p class="hero-subtitle">Bekijk welke schriftelijke vragen de hoogste prioriteit hebben</p>
</section>

<!-- INFO-BOX NET ONDER HEADER -->
<section style="background-color:#f9fafb; padding:1.5rem 0;">
  <div style="max-width:800px; margin:auto; text-align:center; color:#374151;">
    <h2 style="font-size:1.3rem; font-weight:600;">Hoe wordt de prioriteit berekend?</h2>
    <p>De prioriteitsscore is gebaseerd op drie factoren:</p>
    <ul style="list-style:none; padding:0; margin-top:1rem; text-align:left; max-width:600px; margin:auto; line-height:1.6;">
      <li><strong>Recente vragen</strong> krijgen meer punten.</li>
      <li><strong>Onbeantwoorde vragen</strong> krijgen een extra gewicht van 50 punten.</li>
      <li><strong>Meer thema’s</strong> gekoppeld aan een vraag verhogen de score (10 punten per thema).</li>
    </ul>
  </div>
</section>

<!-- TABEL -->
<section style="padding:2rem;">
  <table style="width:100%; border-collapse:collapse;">
    <thead style="background:#f3f4f6;">
      <tr>
        <th style="padding:8px; text-align:left;">Onderwerp</th>
        <th style="padding:8px; text-align:left;">Ingediend</th>
        <th style="padding:8px; text-align:left;">Beantwoord</th>
        <th style="padding:8px; text-align:left;"># Thema’s</th>
        <th style="padding:8px; text-align:left;">Score</th>
      </tr>
    </thead>
    <tbody>
      {% if data %}
        {% for item in data %}
        <tr>
          <td style="padding:8px;">{{ item.onderwerp }}</td>
          <td style="padding:8px;">{{ item.ingediend }}</td>
          <td style="padding:8px;">{{ item.beantwoord }}</td>
          <td style="padding:8px; text-align:center;">{{ item.aantal_themas }}</td>
          <td style="padding:8px;">
            <strong 
              {% if item.priority_score >= 120 %} style="color:#16a34a;"
              {% elif item.priority_score >= 70 %} style="color:#ca8a04;"
              {% else %} style="color:#dc2626;"
              {% endif %}
            >
              {{ item.priority_score }}
            </strong>
          </td>
        </tr>
        {% endfor %}
      {% else %}
        <tr>
          <td colspan="5" style="text-align:center; padding:1rem;">Nog geen data beschikbaar.</td>
        </tr>
      {% endif %}
    </tbody>
  </table>
</section>
{% endblock %}
