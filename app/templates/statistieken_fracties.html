{% extends "base.html" %}
{% block content %}

<!-- HERO -->
<section class="hero">
  <h1 class="hero-title">Statistieken per Fractie</h1>
  <p class="hero-subtitle">
    Bekijk hoeveel vragen een fractie stelde over een bepaald thema, 
    vergeleken met haar totale activiteit Ã©n met het totale aantal vragen binnen dat thema.
  </p>
</section>

<!-- FORMULIER -->
<section class="info-section">
  <div class="info-container fractie-form-container">
    <form method="get" action="{{ url_for('main.statistieken_fractie') }}" class="filters-form fractie-form">
      <div class="filter-field">
        <label for="fractie">Kies een fractie</label>
        <select name="fractie" id="fractie">
          <option value="">-- Selecteer fractie --</option>
          {% for f in fracties %}
            <option value="{{ f.id }}" {% if fractie_id == f.id|string %}selected{% endif %}>{{ f.naam }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="filter-field">
        <label for="thema">Kies een thema</label>
        <select name="thema" id="thema">
          <option value="">-- Selecteer thema --</option>
          {% for t in themas %}
            <option value="{{ t.id }}" {% if thema_id == t.id|string %}selected{% endif %}>{{ t.naam }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="filter-field filter-field-button">
        <button type="submit" class="btn">Toon statistieken</button>
      </div>
    </form>
  </div>
</section>

<!-- RESULTATEN -->
{% if resultaat %}
<section class="table-section fractie-result-section">
  <h2 class="section-title small">Resultaten</h2>

  <div class="fractie-result-grid">

    <!-- Blok 1 -->
    <div class="fractie-stat-card">
      <h3>Deze fractie</h3>
      <p><strong>Aantal vragen over dit thema:</strong> {{ resultaat.thema_vragen_fractie }}</p>
      <p><strong>% van totale vragen fractie:</strong> {{ resultaat.perc_van_fractie }}%</p>
    </div>

    <!-- Blok 2 -->
    <div class="fractie-stat-card">

      <h3>Alle fracties</h3>
      <p><strong>Totaal aantal vragen in dit thema:</strong> {{ resultaat.totaal_vragen_thema }}</p>
      <p><strong>% van alle themavragen:</strong> {{ resultaat.perc_van_thema }}%</p>
    </div>

  </div>
</section>
{% endif %}

{% endblock %}
