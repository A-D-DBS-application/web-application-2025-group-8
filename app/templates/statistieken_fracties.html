{% extends "base.html" %}
{% block content %}

<!-- HERO -->
<section class="hero">
  <h1 class="hero-title">Statistieken per Fractie</h1>
  <p class="hero-subtitle">
    Bekijk hoeveel vragen een fractie stelde over een bepaald thema, 
    vergeleken met haar totale activiteit Ã©n met het totale aantal vragen binnen dat thema.
  </p>
</section>

<!-- FORMULIER -->
<section class="info-section">
  <div class="info-container" style="max-width:950px; margin:auto;">
    <form method="get" action="{{ url_for('main.statistieken_fractie') }}" class="filters-form" style="margin-top:1.5rem;">
      <div class="filter-field">
        <label for="fractie">Kies een fractie</label>
        <select name="fractie" id="fractie">
          <option value="">-- Selecteer fractie --</option>
          {% for f in fracties %}
            <option value="{{ f.id }}" {% if fractie_id == f.id|string %}selected{% endif %}>{{ f.naam }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="filter-field">
        <label for="thema">Kies een thema</label>
        <select name="thema" id="thema">
          <option value="">-- Selecteer thema --</option>
          {% for t in themas %}
            <option value="{{ t.id }}" {% if thema_id == t.id|string %}selected{% endif %}>{{ t.naam }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="filter-field filter-field-button">
        <button type="submit" class="btn">Toon statistieken</button>
      </div>
    </form>
  </div>
</section>

<!-- RESULTATEN IN KAARTVORM -->
{% if resultaat %}
<section class="table-section" style="text-align:center;">
  <h2 style="font-size:1.5rem; margin-bottom:2rem;">Resultaten</h2>

  <div style="display:flex; justify-content:center; flex-wrap:wrap; gap:2rem;">

    <!-- Blok 1: Deze fractie -->
    <div style="flex:1; min-width:280px; max-width:400px; background:#f9fafb; border-radius:12px; padding:1.5rem; box-shadow:0 2px 5px rgba(0,0,0,0.1);">
      <h3 style="text-transform:uppercase; font-size:0.9rem; letter-spacing:0.05em; color:#6b7280;">Deze fractie</h3>
      <p style="margin-top:1rem;"><strong>Aantal vragen over dit thema:</strong> {{ resultaat.thema_vragen_fractie }}</p>
      <p><strong>% van totale vragen fractie:</strong> {{ resultaat.perc_van_fractie }}%</p>
    </div>

    <!-- Blok 2: Alle fracties -->
    <div style="flex:1; min-width:280px; max-width:400px; background:#f9fafb; border-radius:12px; padding:1.5rem; box-shadow:0 2px 5px rgba(0,0,0,0.1);">
      <h3 style="text-transform:uppercase; font-size:0.9rem; letter-spacing:0.05em; color:#6b7280;">Alle fracties</h3>
      <p style="margin-top:1rem;"><strong>Totaal aantal vragen in dit thema:</strong> {{ resultaat.totaal_vragen_thema }}</p>
      <p><strong>% van alle themavragen:</strong> {{ resultaat.perc_van_thema }}%</p>
    </div>

  </div>
</section>
{% endif %}

{% endblock %}
